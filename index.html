<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">‡¶≠‡¶£‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø | Full Integrated Version</title>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        :root {
            --primary-green: #006a4e;
            --primary-red: #f42a41;
            --gold: #b8860b;
            --bg-body: linear-gradient(135deg, #006a4e 0%, #003325 100%);
            --glass: rgba(255, 255, 255, 0.95);
            --text-main: #333;
            --hover-glow: 0 0 15px rgba(0, 106, 78, 0.6);
            --transition-speed: 0.4s;
        }

        .dark-mode {
            --bg-body: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            --glass: rgba(30, 30, 40, 0.95);
            --text-main: #f4f4f4;
            --hover-glow: 0 0 15px rgba(244, 42, 65, 0.6);
        }

        * { 
            margin:0; 
            padding:0; 
            box-sizing:border-box; 
            font-family: 'Noto Sans Bengali', sans-serif; 
            transition: all var(--transition-speed) cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        body { 
            background: var(--bg-body); 
            color: #fff; 
            scroll-behavior: smooth; 
            overflow-x: hidden; 
            width: 100%; 
            position: relative;
        }

        /* Enhanced Header with Parallax Effect */
        header { 
            text-align:center; 
            padding: 80px 20px; 
            border-bottom: 8px solid var(--primary-red); 
            background: url('https://www.transparenttextures.com/patterns/cubes.png'), linear-gradient(45deg, var(--primary-green), #004d38);
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .header-bg-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, transparent 20%, rgba(0, 106, 78, 0.3) 100%);
            pointer-events: none;
        }
        
        .logo img { 
            width: 120px; 
            height: 120px; 
            border-radius: 50%; 
            border: 4px solid #fff; 
            animation: pulseLogo 2s infinite, floatEffect 6s ease-in-out infinite;
            transition: all var(--transition-speed) ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .logo:hover img {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
        }

        @keyframes pulseLogo {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 20px rgba(255, 255, 255, 0); }
            100% { transform: scale(1); }
        }
        
        @keyframes floatEffect {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        /* Enhanced Navigation */
        nav { 
            background: var(--glass); 
            position: sticky; 
            top: 0; 
            z-index: 1000; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 15px 10px; 
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            flex-wrap: wrap;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 106, 78, 0.2);
            border-radius: 0 0 20px 20px;
        }
        
        nav a, nav button { 
            color: var(--primary-green); 
            text-decoration: none; 
            margin: 8px 15px; 
            font-weight: 700; 
            cursor: pointer; 
            border: none; 
            background: none; 
            font-size: 16px; 
            padding: 12px 20px;
            border-radius: 50px;
            position: relative;
            overflow: hidden;
            transition: all var(--transition-speed) ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        nav a::before, nav button::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--primary-green), var(--primary-red));
            z-index: -1;
            opacity: 0;
            transform: scaleX(0);
            transform-origin: left;
            transition: all var(--transition-speed) ease;
        }
        
        nav a:hover, nav button:hover {
            color: white;
            transform: translateY(-5px) scale(1.05);
            box-shadow: var(--hover-glow);
        }
        
        nav a:hover::before, nav button:hover::before {
            opacity: 0.9;
            transform: scaleX(1);
        }
        
        /* Modern Navigation Active State */
        nav a.active, nav a:active {
            background: linear-gradient(45deg, var(--primary-green), var(--primary-red));
            color: white;
            box-shadow: 0 5px 15px rgba(0, 106, 78, 0.4);
        }
        
        /* Navigation indicator */
        nav a::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 50%;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-green), var(--primary-red));
            border-radius: 2px;
            transform: translateX(-50%);
            transition: width 0.3s ease;
        }
        
        nav a:hover::after {
            width: 70%;
        }
        
        .top-controls { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            display: flex; 
            gap: 12px; 
            z-index: 2000; 
            animation: slideInRight 0.6s ease-out;
        }
        
        .control-btn { 
            background: #fff; 
            border: none; 
            width: 50px; 
            height: 50px; 
            border-radius: 50%; 
            cursor: pointer; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            box-shadow: 0 6px 15px rgba(0,0,0,0.3); 
            color: #333; 
            font-size: 18px;
            transition: all var(--transition-speed) ease;
        }
        
        .control-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
        }

        /* Enhanced Sections */
        section { 
            max-width: 1100px; 
            margin: 50px auto; 
            padding: 50px; 
            background: var(--glass); 
            color: var(--text-main); 
            border-radius: 25px; 
            width: 90%; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            transition: all var(--transition-speed) ease;
        }
        
        section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-green), var(--gold), var(--primary-red));
            z-index: 1;
        }
        
        section:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0,0,0, 0.15);
        }
        
        .grid-container { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 25px; 
            margin-top: 30px; 
        }
        
        /* Enhanced Cards */
        .card-style { 
            background: #fff; 
            padding: 30px; 
            border-radius: 18px; 
            text-align: center; 
            border-bottom: 6px solid var(--gold); 
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            transition: all var(--transition-speed) ease;
            position: relative;
            overflow: hidden;
        }
        
        .card-style::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 106, 78, 0.1), rgba(184, 134, 11, 0.1));
            z-index: -1;
            opacity: 0;
            transition: opacity var(--transition-speed) ease;
        }
        
        .card-style:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .card-style:hover::before {
            opacity: 1;
        }
        
        .leader-card { 
            background: #fff; 
            padding: 20px; 
            border-radius: 15px; 
            text-align: center; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.08); 
            transition: all var(--transition-speed) ease;
        }
        
        .leader-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.12);
        }
        
        .leader-photo { 
            width: 140px; 
            height: 170px; 
            object-fit: cover; 
            border: 3px solid var(--primary-green); 
            border-radius: 12px; 
            transition: all var(--transition-speed) ease;
        }
        
        .leader-card:hover .leader-photo {
            transform: scale(1.05);
            border-color: var(--primary-red);
        }
        
        /* Enhanced Gallery Items */
        .gallery-item { 
            height: 220px; 
            overflow: hidden; 
            border-radius: 15px; 
            border: 4px solid #fff; 
            box-shadow: 0 8px 25px rgba(0,0,0,0.2); 
            transition: all var(--transition-speed) ease;
            position: relative;
        }
        
        .gallery-item:hover {
            transform: scale(1.03);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }
        
        .gallery-item img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: all var(--transition-speed) ease;
        }
        
        .gallery-item:hover img {
            transform: scale(1.1);
        }

        /* Enhanced Admin Panel */
        #adminPanel { 
            display:none; 
            position:fixed; 
            top:0; 
            left:0; 
            width:100%; 
            height:100%; 
            background:rgba(0,0,0,0.95); 
            z-index:9999; 
            overflow-y:auto; 
            padding:15px; 
            animation: fadeInScale 0.5s ease-out;
        }
        
        .admin-box { 
            background:white; 
            max-width:700px; 
            margin:auto; 
            padding:30px; 
            border-radius:20px; 
            color:#333; 
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            animation: slideUp 0.6s ease-out;
        }
        
        input, textarea, select { 
            width: 100%; 
            padding: 14px; 
            margin: 10px 0; 
            border: 2px solid #ddd; 
            border-radius: 10px; 
            font-size: 16px;
            transition: all var(--transition-speed) ease;
        }
        
        input:focus, textarea:focus, select:focus { 
            outline: none; 
            border-color: var(--primary-green); 
            box-shadow: 0 0 10px rgba(0, 106, 78, 0.3);
        }
        
        .btn-main { 
            background: var(--primary-red); 
            color: #fff; 
            border: none; 
            padding: 14px; 
            width: 100%; 
            border-radius: 10px; 
            cursor: pointer; 
            font-weight: bold; 
            margin-top: 12px; 
            font-size: 16px;
            transition: all var(--transition-speed) ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-main:hover {
            background: #e02337;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(244, 42, 65, 0.3);
        }

        .del-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: #f9f9f9; 
            padding: 12px; 
            border-radius: 8px; 
            margin-top: 8px; 
            border-bottom: 1px solid #eee; 
            transition: all var(--transition-speed) ease;
        }
        
        .del-item:hover {
            background: #f0f0f0;
            transform: translateX(5px);
        }
        
        .del-btn { 
            background: #ff4757; 
            color: white; 
            border: none; 
            padding: 8px 15px; 
            border-radius: 6px; 
            cursor: pointer; 
            transition: all var(--transition-speed) ease;
        }
        
        .del-btn:hover {
            background: #e02337;
            transform: scale(1.05);
        }

        /* Enhanced Modal */
        .modal { 
            display:none; 
            position:fixed; 
            top:0; 
            left:0; 
            width:100%; 
            height:100%; 
            background: rgba(0,0,0,0.85); 
            z-index:5000; 
            justify-content:center; 
            align-items:center; 
            padding: 15px; 
            animation: modalFadeIn 0.4s ease-out;
        }
        
        .modal-content { 
            background: #fff; 
            padding: 30px; 
            border-radius: 25px; 
            width: 100%; 
            max-width: 550px; 
            color: #333; 
            max-height: 90vh; 
            overflow-y: auto; 
            text-align: center; 
            box-shadow: 0 30px 60px rgba(0,0,0,0.4);
            transform: scale(0.8);
            animation: modalZoom 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        /* Animations */
        @keyframes slideInRight {
            0% { opacity: 0; transform: translateX(30px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes fadeInScale {
            0% { opacity: 0; transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        @keyframes slideUp {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes modalFadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        @keyframes modalZoom {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Enhanced Footer */
        footer { 
            background: linear-gradient(to bottom, #002b1f, #001a12); 
            text-align: center; 
            padding: 40px; 
            color: white; 
            margin-top: 40px; 
            position: relative;
            overflow: hidden;
        }
        
        footer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-green), var(--gold), var(--primary-red));
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--primary-green), var(--primary-red));
            border-radius: 6px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(var(--primary-red), var(--primary-green));
        }
        
        /* Micro-interaction styles */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            transform: scale(0);
            animation: rippleAnimation 0.6s linear;
            pointer-events: none;
        }
        
        @keyframes rippleAnimation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        .cursor-trail {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            pointer-events: none;
            transform: translate(-50%, -50%);
            z-index: 9999;
            mix-blend-mode: difference;
        }
        
        /* Language toggle styles */
        .hidden {
            display: none !important;
        }
        
        .visible {
            display: block !important;
        }
        
        /* Inline editing styles */
        .edit-mode .editable-text {
            position: relative;
            padding-right: 30px;
            border: 2px dashed #006a4e;
            border-radius: 5px;
            background-color: rgba(0, 106, 78, 0.1);
            transition: all 0.3s ease;
        }
        
        .edit-mode .editable-text:hover {
            background-color: rgba(0, 106, 78, 0.2);
        }
        
        .edit-icon {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: #006a4e;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.7;
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .edit-icon:hover {
            opacity: 1;
            transform: translateY(-50%) scale(1.1);
            background: #f42a41;
        }
        
        .edit-input {
            width: 100%;
            padding: 8px;
            border: 2px solid #006a4e;
            border-radius: 5px;
            font-family: 'Noto Sans Bengali', sans-serif;
            font-size: inherit;
            background: white;
            color: #333;
        }
        
        .edit-controls {
            display: flex;
            gap: 5px;
            margin-top: 5px;
        }
        
        .edit-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
        }
        
        .save-btn {
            background: #006a4e;
            color: white;
        }
        
        .cancel-btn {
            background: #f42a41;
            color: white;
        }
        
        .edit-btn:hover {
            opacity: 0.8;
        }
        
        /* Admin Edit Controls Styles */
        .admin-edit-controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid #006a4e;
        }
        
        .admin-edit-controls h4 {
            color: #006a4e;
            margin-top: 0;
            margin-bottom: 15px;
        }
        
        .edit-mode-status {
            font-style: italic;
            color: #666;
            margin: 10px 0;
        }
        
        #adminEditToggle.active {
            background: #f42a41 !important;
        }
        
        /* Event Management System Styles */
        .event-calendar-container, .event-registration-container, .rsvp-tracking-container {
            margin: 30px 0;
            padding: 25px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .event-calendar-container h3, .event-registration-container h3, .rsvp-tracking-container h3 {
            color: var(--primary-green);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 20px;
        }
        
        .calendar-day {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            text-align: center;
            min-height: 80px;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .calendar-day:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }
        
        .calendar-day.event-day {
            background: linear-gradient(135deg, var(--primary-green), var(--gold));
            color: white;
            cursor: pointer;
        }
        
        .calendar-day.event-day:hover {
            background: linear-gradient(135deg, var(--primary-red), var(--gold));
            transform: scale(1.05);
        }
        
        .event-indicator {
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 8px;
            background: var(--primary-red);
            border-radius: 50%;
        }
        
        .rsvp-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .rsvp-stat-card {
            background: linear-gradient(135deg, #fff, #f8f9fa);
            border: 2px solid var(--primary-green);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .rsvp-stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .rsvp-stat-card h4 {
            color: var(--primary-green);
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .rsvp-stat-card span {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary-red);
        }

        /* Articles Section Styles */
        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .article-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 106, 78, 0.2);
        }

        .article-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-green);
        }

        .article-image {
            height: 200px;
            overflow: hidden;
        }

        .article-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .article-card:hover .article-image img {
            transform: scale(1.1);
        }

        .article-content {
            padding: 25px;
        }

        .article-content h3 {
            margin: 0 0 15px 0;
            color: var(--primary-green);
            font-size: 22px;
        }

        .article-content p {
            margin: 15px 0;
            line-height: 1.6;
            opacity: 0.9;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            font-size: 14px;
            opacity: 0.7;
        }

        .read-more-btn {
            background: linear-gradient(45deg, var(--primary-green), var(--primary-red));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
        }

        .read-more-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 106, 78, 0.3);
        }

        .view-all-articles {
            text-align: center;
            margin: 40px 0 20px 0;
        }

        /* Organizational Structure Styles */
        .structure-container {
            margin: 30px 0;
            padding: 20px;
        }

        .structure-chart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .structure-level {
            display: flex;
            justify-content: center;
            gap: 20px;
            width: 100%;
        }

        .structure-item {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            min-width: 200px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 106, 78, 0.3);
            transition: all 0.3s ease;
        }

        .structure-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-green);
        }

        .structure-president {
            background: linear-gradient(45deg, rgba(0, 106, 78, 0.3), rgba(220, 20, 60, 0.3));
            min-width: 250px;
        }

        .structure-vice {
            background: rgba(0, 106, 78, 0.2);
            min-width: 220px;
        }

        .structure-dept {
            background: rgba(255, 255, 255, 0.05);
        }

        .structure-local {
            background: rgba(220, 20, 60, 0.2);
            min-width: 280px;
        }

        .structure-item h3 {
            margin: 0 0 10px 0;
            color: var(--primary-green);
        }

        .structure-item p {
            margin: 0;
            font-size: 14px;
            opacity: 0.8;
        }

        /* Survey Section Styles */
        .survey-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .survey-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 106, 78, 0.2);
            transition: all 0.4s ease;
        }

        .survey-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-green);
        }

        .survey-card h3 {
            margin: 0 0 15px 0;
            color: var(--primary-green);
            font-size: 20px;
        }

        .survey-card p {
            margin: 15px 0;
            opacity: 0.9;
        }

        .survey-stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            font-size: 14px;
            opacity: 0.8;
        }

        .survey-btn {
            background: linear-gradient(45deg, var(--primary-red), var(--primary-green));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
        }

        .survey-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(220, 20, 60, 0.3);
        }

        .survey-results {
            margin: 50px 0 20px 0;
            padding: 30px;
            background: rgba(0, 106, 78, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .survey-results h3 {
            text-align: center;
            color: var(--primary-green);
            margin-bottom: 30px;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .result-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .result-card h4 {
            margin: 0 0 15px 0;
            color: var(--primary-green);
        }

        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-green), var(--primary-red));
            border-radius: 10px;
            transition: width 1s ease;
        }

        .result-card span {
            font-size: 14px;
            opacity: 0.8;
        }
        
        /* Event Registration Form Styles */
        #eventRegistrationForm input, #eventRegistrationForm select {
            margin-bottom: 15px;
            background: #fff;
        }
        
        #eventRegistrationForm select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }
        
        #eventRegistrationForm select:focus {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='var(--primary-green)' stroke='var(--primary-green)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        }

    </style>
</head>
<body>

<div class="top-controls">
    <button class="control-btn" onclick="toggleDarkMode()">üåì</button>
    <button class="control-btn" onclick="toggleLanguage()">üåê</button>
    <button class="control-btn" onclick="adminLogin()">‚öôÔ∏è</button>
</div>

<header>
    <div class="animate__animated animate__fadeInDown">
        <div class="logo"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/Flag_of_Bangladesh.svg/120px-Flag_of_Bangladesh.svg.png"></div>
        <h1 id="txt-partyName-bn" class="editable-text">‡¶≠‡¶£‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø</h1>
        <h1 id="txt-partyName-en" class="hidden editable-text">Vandatbabadi Mongol Party</h1>
        <p id="txt-slogan-bn" class="editable-text">‡¶ú‡¶®‡¶ó‡¶£ ‚Ä¢ ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶® ‚Ä¢ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</p>
        <p id="txt-slogan-en" class="hidden editable-text">People ‚Ä¢ Development ‚Ä¢ Bangladesh</p>
    </div>
</header>

<nav>
    <a href="#about" id="nav-about-bn" class="editable-text">‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø</a>
    <a href="#about" id="nav-about-en" class="hidden editable-text">About</a>
    <a href="#ideology" id="nav-ideology-bn" class="editable-text">‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂</a>
    <a href="#ideology" id="nav-ideology-en" class="hidden editable-text">Ideology</a>
    <a href="#leaders" id="nav-leaders-bn" class="editable-text">‡¶®‡ßá‡¶§‡ßÉ‡¶¨‡ßÉ‡¶®‡ßç‡¶¶</a>
    <a href="#leaders" id="nav-leaders-en" class="hidden editable-text">Leaders</a>
    <a href="#gallery" id="nav-gallery-bn" class="editable-text">‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</a>
    <a href="#gallery" id="nav-gallery-en" class="hidden editable-text">Gallery</a>
    <a href="#structure" id="nav-structure-bn" class="editable-text">‡¶ó‡¶†‡¶®</a>
    <a href="#structure" id="nav-structure-en" class="hidden editable-text">Structure</a>
    <a href="#articles" id="nav-articles-bn" class="editable-text">‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß</a>
    <a href="#articles" id="nav-articles-en" class="hidden editable-text">Articles</a>
    <a href="#survey" id="nav-survey-bn" class="editable-text">‡¶ú‡¶∞‡¶ø‡¶™</a>
    <a href="#survey" id="nav-survey-en" class="hidden editable-text">Survey</a>
    <button onclick="openModal('joinModal')" id="nav-join-bn" class="editable-text">‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶π‡¶®</button>
    <button onclick="openModal('joinModal')" id="nav-join-en" class="hidden editable-text">Join Us</button>
    <button onclick="openModal('candidateModal')" id="nav-candidate-bn" class="editable-text" style="background:var(--primary-red); color:#fff; padding:6px 15px; border-radius:20px;">‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶´‡¶∞‡ßç‡¶Æ</button>
    <button onclick="openModal('candidateModal')" id="nav-candidate-en" class="hidden editable-text" style="background:var(--primary-red); color:#fff; padding:6px 15px; border-radius:20px;">Candidate Form</button>
</nav>

<section id="about" data-aos="fade-up">
    <h2 id="txt-aboutHeader-bn" style="text-align:center; color:var(--primary-green);" class="editable-text">‡¶¶‡¶≤‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø</h2>
    <h2 id="txt-aboutHeader-en" class="hidden editable-text" style="text-align:center; color:var(--primary-green);">About Our Party</h2>
    <p id="txt-aboutBody-bn" style="text-align:center; margin-top:15px;" class="editable-text">‡¶≠‡¶£‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶∏‡¶Ç‡¶ó‡¶†‡¶®‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶¨‡¶ø‡¶∂‡ßÉ‡¶ô‡ßç‡¶ñ‡¶≤‡¶æ ‡¶®‡¶Ø‡¶º, ‡¶¨‡¶∞‡¶Ç ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶ø‡•§</p>
    <p id="txt-aboutBody-en" class="hidden editable-text" style="text-align:center; margin-top:15px;">Vandatbabadi Mongol Party is a modern political organization. We seek new possibilities through change, not chaos.</p>
</section>

<section id="ideology" data-aos="zoom-in">
    <h2 id="txt-ideology-header-bn" style="text-align:center; color:var(--primary-green);" class="editable-text">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂</h2>
    <h2 id="txt-ideology-header-en" class="hidden editable-text" style="text-align:center; color:var(--primary-green);">Our Ideology</h2>
    <div class="grid-container">
        <div class="card-style">
            <h3 id="txt-id1-bn" class="editable-text">‡¶≠‡¶®‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶</h3>
            <h3 id="txt-id1-en" class="hidden editable-text">Vandatbabad</h3>
        </div>
        <div class="card-style">
            <h3 id="txt-id2-bn" class="editable-text">‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ‡¶¨‡¶æ‡¶ú‡¶ø</h3>
            <h3 id="txt-id2-en" class="hidden editable-text">Chandabaji</h3>
        </div>
        <div class="card-style">
            <h3 id="txt-id3-bn" class="editable-text">‡¶¨‡¶ø‡ßÉ‡¶ô‡ßç‡¶ñ‡¶≤‡¶æ</h3>
            <h3 id="txt-id3-en" class="hidden editable-text">Bishrinkhala</h3>
        </div>
    </div>
</section>

<section id="leaders" data-aos="fade-right">
    <h2 id="txt-leadersHeader-bn" style="color:var(--primary-green); text-align:center;" class="editable-text">‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø</h2>
    <h2 id="txt-leadersHeader-en" class="hidden editable-text" style="color:var(--primary-green); text-align:center;">Popular Representatives</h2>
    <div class="grid-container" id="leader-list"></div>
</section>

<section id="gallery" data-aos="fade-left">
    <h2 id="txt-galleryHeader-bn" style="color:var(--primary-green); text-align:center;" class="editable-text">‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</h2>
    <h2 id="txt-galleryHeader-en" class="hidden editable-text" style="color:var(--primary-green); text-align:center;">Event Gallery</h2>
    <div class="grid-container" id="gallery-list"></div>
</section>

<!-- Advanced Event Management System -->
<section id="events" data-aos="fade-up">
    <h2 id="events-header-bn" style="color:var(--primary-green); text-align:center;" class="editable-text">‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h2>
    <h2 id="events-header-en" class="hidden editable-text" style="color:var(--primary-green); text-align:center;">Event Management</h2>
    
    <!-- Event Calendar -->
    <div class="event-calendar-container">
        <h3 id="calendar-title-bn" class="editable-text">‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞</h3>
        <h3 id="calendar-title-en" class="hidden editable-text">Event Calendar</h3>
        <div id="event-calendar" class="calendar-grid"></div>
    </div>
    
    <!-- Event Registration -->
    <div class="event-registration-container">
        <h3 id="registration-title-bn" class="editable-text">‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®</h3>
        <h3 id="registration-title-en" class="hidden editable-text">Event Registration</h3>
        <button class="btn-main" onclick="openModal('eventRegistrationModal')" id="register-event-btn-bn">‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <button class="btn-main hidden" onclick="openModal('eventRegistrationModal')" id="register-event-btn-en">Register for Event</button>
    </div>
    
    <!-- RSVP Tracking -->
    <div class="rsvp-tracking-container">
        <h3 id="rsvp-title-bn" class="editable-text">‡¶Ü‡¶∞‡¶è‡¶∏‡¶≠‡¶ø‡¶™‡¶ø ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç</h3>
        <h3 id="rsvp-title-en" class="hidden editable-text">RSVP Tracking</h3>
        <div id="rsvp-stats" class="rsvp-stats-grid">
            <div class="rsvp-stat-card">
                <h4 id="confirmed-bn">‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§</h4>
                <h4 id="confirmed-en" class="hidden">Confirmed</h4>
                <span id="confirmed-count">0</span>
            </div>
            <div class="rsvp-stat-card">
                <h4 id="pending-bn">‡¶Ö‡¶Æ‡ßÄ‡¶Æ‡¶æ‡¶Ç‡¶∏‡¶ø‡¶§</h4>
                <h4 id="pending-en" class="hidden">Pending</h4>
                <span id="pending-count">0</span>
            </div>
            <div class="rsvp-stat-card">
                <h4 id="declined-bn">‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®</h4>
                <h4 id="declined-en" class="hidden">Declined</h4>
                <span id="declined-count">0</span>
            </div>
        </div>
    </div>
</section>

<!-- Articles Section -->
<section id="articles" data-aos="fade-up">
    <div class="section-container">
        <h2 id="txt-articlesHeader-bn" style="text-align:center; color:var(--primary-green);" class="editable-text">‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß</h2>
        <h2 id="txt-articlesHeader-en" class="hidden editable-text" style="text-align:center; color:var(--primary-green);">Important Articles</h2>
        
        <div class="articles-grid">
            <div class="article-card" data-aos="fade-up">
                <div class="article-image">
                    <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&h=250&fit=crop" alt="Article 1">
                </div>
                <div class="article-content">
                    <h3 id="article-title-1-bn" class="editable-text">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶¶‡¶∞‡ßç‡¶∂‡¶®</h3>
                    <h3 id="article-title-1-en" class="hidden editable-text">Our Political Philosophy</h3>
                    <p id="article-excerpt-1-bn" class="editable-text">‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∞‡¶æ‡¶ú‡¶®‡ßÄ‡¶§‡¶ø‡¶∞ ‡¶™‡ßç‡¶∞‡ßá‡¶ï‡ßç‡¶∑‡¶æ‡¶™‡¶ü‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¶‡¶≤‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶®‡ßÄ‡¶§‡¶ø ‡¶ì ‡¶¶‡¶∞‡ßç‡¶∂‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶Ü‡¶≤‡ßã‡¶ö‡¶®‡¶æ‡•§</p>
                    <p id="article-excerpt-1-en" class="hidden editable-text">Detailed discussion about our party's core principles and philosophy in the context of modern politics.</p>
                    <div class="article-meta">
                        <span class="article-date">‡ßß‡ß´ ‡¶ú‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø, ‡ß®‡ß¶‡ß®‡ß¨</span>
                        <span class="article-author">‡¶≤‡ßá‡¶ñ‡¶ï: ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶â‡¶™‡¶¶‡ßá‡¶∑‡ßç‡¶ü‡¶æ</span>
                    </div>
                    <button class="read-more-btn" onclick="openArticle(1)">‡¶™‡¶°‡¶º‡ßÅ‡¶®</button>
                </div>
            </div>
            
            <div class="article-card" data-aos="fade-up">
                <div class="article-image">
                    <img src="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=400&h=250&fit=crop" alt="Article 2">
                </div>
                <div class="article-content">
                    <h3 id="article-title-2-bn" class="editable-text">‡¶∏‡¶æ‡¶Æ‡¶æ‡¶ú‡¶ø‡¶ï ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®‡ßá‡¶∞ ‡¶™‡¶•</h3>
                    <h3 id="article-title-2-en" class="hidden editable-text">Path to Social Development</h3>
                    <p id="article-excerpt-2-bn" class="editable-text">‡¶∏‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§ ‡¶ï‡¶∞‡ßç‡¶Æ‡¶∏‡ßÇ‡¶ö‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßå‡¶∂‡¶≤‡¶ó‡ßÅ‡¶≤‡¶ø‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£‡•§</p>
                    <p id="article-excerpt-2-en" class="hidden editable-text">Detailed description of our proposed programs and strategies for social development.</p>
                    <div class="article-meta">
                        <span class="article-date">‡ßß‡ß¶ ‡¶ú‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø, ‡ß®‡ß¶‡ß®‡ß¨</span>
                        <span class="article-author">‡¶≤‡ßá‡¶ñ‡¶ï: ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶ú‡¶ø‡¶ï ‡¶ï‡¶∞‡ßç‡¶Æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</span>
                    </div>
                    <button class="read-more-btn" onclick="openArticle(2)">‡¶™‡¶°‡¶º‡ßÅ‡¶®</button>
                </div>
            </div>
            
            <div class="article-card" data-aos="fade-up">
                <div class="article-image">
                    <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=250&fit=crop" alt="Article 3">
                </div>
                <div class="article-content">
                    <h3 id="article-title-3-bn" class="editable-text">‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨</h3>
                    <h3 id="article-title-3-en" class="hidden editable-text">Economic Reform Proposal</h3>
                    <p id="article-excerpt-3-bn" class="editable-text">‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶æ‡¶∞ ‡¶™‡¶¶‡¶ï‡ßç‡¶∑‡ßá‡¶™ ‡¶è‡¶¨‡¶Ç ‡¶®‡ßÄ‡¶§‡¶ø‡¶Æ‡¶æ‡¶≤‡¶æ‡•§</p>
                    <p id="article-excerpt-3-en" class="hidden editable-text">Our proposed reform measures and policies for the country's economic development.</p>
                    <div class="article-meta">
                        <span class="article-date">‡ß´ ‡¶ú‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø, ‡ß®‡ß¶‡ß®‡ß¨</span>
                        <span class="article-author">‡¶≤‡ßá‡¶ñ‡¶ï: ‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶ï</span>
                    </div>
                    <button class="read-more-btn" onclick="openArticle(3)">‡¶™‡¶°‡¶º‡ßÅ‡¶®</button>
                </div>
            </div>
        </div>
        
        <div class="view-all-articles">
            <button class="primary-btn" onclick="viewAllArticles()">‡¶∏‡¶ï‡¶≤ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
        </div>
    </div>
</section>

<!-- Organizational Structure Section -->
<section id="structure" data-aos="fade-up">
    <div class="section-container">
        <h2 id="txt-structureHeader-bn" style="text-align:center; color:var(--primary-green);" class="editable-text">‡¶∏‡¶Ç‡¶ó‡¶†‡¶®‡¶ó‡¶§ ‡¶ó‡¶†‡¶®</h2>
        <h2 id="txt-structureHeader-en" class="hidden editable-text" style="text-align:center; color:var(--primary-green);">Organizational Structure</h2>
        
        <div class="structure-container">
            <div class="structure-chart">
                <div class="structure-level structure-level-1">
                    <div class="structure-item structure-president">
                        <h3 id="structure-president-bn" class="editable-text">‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶®‡ßá‡¶§‡¶æ</h3>
                        <h3 id="structure-president-en" class="hidden editable-text">Chief Leader</h3>
                        <p>‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§ ‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ</p>
                    </div>
                </div>
                
                <div class="structure-level structure-level-2">
                    <div class="structure-item structure-vice">
                        <h3 id="structure-vice-bn" class="editable-text">‡¶â‡¶™‡¶¶‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶™‡¶∞‡¶ø‡¶∑‡¶¶</h3>
                        <h3 id="structure-vice-en" class="hidden editable-text">Advisory Council</h3>
                        <p>‡¶™‡¶∞‡¶ø‡¶ï‡¶≤‡ßç‡¶™‡¶®‡¶æ ‡¶ì ‡¶®‡ßÄ‡¶§‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£</p>
                    </div>
                </div>
                
                <div class="structure-level structure-level-3">
                    <div class="structure-item structure-dept">
                        <h3 id="structure-dept1-bn" class="editable-text">‡¶∏‡¶æ‡¶Ç‡¶ó‡¶†‡¶®‡¶ø‡¶ï ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</h3>
                        <h3 id="structure-dept1-en" class="hidden editable-text">Organizational Department</h3>
                    </div>
                    <div class="structure-item structure-dept">
                        <h3 id="structure-dept2-bn" class="editable-text">‡¶§‡¶•‡ßç‡¶Ø ‡¶ì ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</h3>
                        <h3 id="structure-dept2-en" class="hidden editable-text">Information & Communication</h3>
                    </div>
                    <div class="structure-item structure-dept">
                        <h3 id="structure-dept3-bn" class="editable-text">‡¶∏‡¶æ‡¶Æ‡¶æ‡¶ú‡¶ø‡¶ï ‡¶ï‡¶∞‡ßç‡¶Æ</h3>
                        <h3 id="structure-dept3-en" class="hidden editable-text">Social Work</h3>
                    </div>
                </div>
                
                <div class="structure-level structure-level-4">
                    <div class="structure-item structure-local">
                        <h3 id="structure-local-bn" class="editable-text">‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶∂‡¶æ‡¶ñ‡¶æ</h3>
                        <h3 id="structure-local-en" class="hidden editable-text">Local Branches</h3>
                        <p>‡¶ú‡ßá‡¶≤‡¶æ ‡¶ì ‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Public Survey Section -->
<section id="survey" data-aos="fade-up">
    <div class="section-container">
        <h2 id="txt-surveyHeader-bn" style="text-align:center; color:var(--primary-green);" class="editable-text">‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï ‡¶ú‡¶∞‡¶ø‡¶™</h2>
        <h2 id="txt-surveyHeader-en" class="hidden editable-text" style="text-align:center; color:var(--primary-green);">Public Survey</h2>
        
        <div class="survey-container">
            <div class="survey-card" data-aos="fade-up">
                <h3 id="survey-title-1-bn" class="editable-text">‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶® ‡¶®‡ßÄ‡¶§‡¶ø ‡¶ú‡¶∞‡¶ø‡¶™</h3>
                <h3 id="survey-title-1-en" class="hidden editable-text">National Development Policy Survey</h3>
                <p id="survey-desc-1-bn" class="editable-text">‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                <p id="survey-desc-1-en" class="hidden editable-text">Share your opinion for the country's development</p>
                <div class="survey-stats">
                    <span>‡ß´‡ß¶‡ß¶+ ‡¶ú‡¶¨‡¶æ‡¶¨</span>
                    <span>‡ß≠‡ß®% ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£</span>
                </div>
                <button class="survey-btn" onclick="openSurvey(1)">‡¶Ö‡¶Ç‡¶∂ ‡¶®‡¶ø‡¶®</button>
            </div>
            
            <div class="survey-card" data-aos="fade-up">
                <h3 id="survey-title-2-bn" class="editable-text">‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ú‡¶∞‡¶ø‡¶™</h3>
                <h3 id="survey-title-2-en" class="hidden editable-text">Education Reform Survey</h3>
                <p id="survey-desc-2-bn" class="editable-text">‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶∞ ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ</p>
                <p id="survey-desc-2-en" class="hidden editable-text">Your ideas for education system development</p>
                <div class="survey-stats">
                    <span>‡ß©‡ß´‡ß¶+ ‡¶ú‡¶¨‡¶æ‡¶¨</span>
                    <span>‡ß¨‡ßÆ% ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£</span>
                </div>
                <button class="survey-btn" onclick="openSurvey(2)">‡¶Ö‡¶Ç‡¶∂ ‡¶®‡¶ø‡¶®</button>
            </div>
            
            <div class="survey-card" data-aos="fade-up">
                <h3 id="survey-title-3-bn" class="editable-text">‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶∏‡ßá‡¶¨‡¶æ ‡¶ú‡¶∞‡¶ø‡¶™</h3>
                <h3 id="survey-title-3-en" class="hidden editable-text">Healthcare Service Survey</h3>
                <p id="survey-desc-3-bn" class="editable-text">‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶∏‡ßá‡¶¨‡¶æ ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂</p>
                <p id="survey-desc-3-en" class="hidden editable-text">Your suggestions for healthcare development</p>
                <div class="survey-stats">
                    <span>‡ß™‡ß®‡ß¶+ ‡¶ú‡¶¨‡¶æ‡¶¨</span>
                    <span>‡ß¨‡ß´% ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£</span>
                </div>
                <button class="survey-btn" onclick="openSurvey(3)">‡¶Ö‡¶Ç‡¶∂ ‡¶®‡¶ø‡¶®</button>
            </div>
        </div>
        
        <div class="survey-results" data-aos="fade-up">
            <h3>‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶ú‡¶∞‡¶ø‡¶™‡ßá‡¶∞ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤</h3>
            <div class="results-grid">
                <div class="result-card">
                    <h4>‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶®</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 78%"></div>
                    </div>
                    <span>‡ß≠‡ßÆ% ‡¶á‡¶§‡¶ø‡¶¨‡¶æ‡¶ö‡¶ï ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§</span>
                </div>
                <div class="result-card">
                    <h4>‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶æ‡¶∞</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%"></div>
                    </div>
                    <span>‡ß¨‡ß´% ‡¶∏‡¶Æ‡¶∞‡ßç‡¶•‡¶®</span>
                </div>
                <div class="result-card">
                    <h4>‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶∏‡ßá‡¶¨‡¶æ</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 72%"></div>
                    </div>
                    <span>‡ß≠‡ß®% ‡¶Ü‡¶ó‡ßç‡¶∞‡¶π</span>
                </div>
            </div>
        </div>
    </div>
</section>

<div id="adminPanel">
    <div class="admin-box">
        <h3 id="admin-panel-title-bn">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h3>
        <h3 id="admin-panel-title-en" class="hidden">Admin Panel</h3>
        
        <!-- Inline Editing Controls -->
        <div class="admin-edit-controls">
            <h4 id="edit-controls-title-bn">‡¶á‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶°‡¶ø‡¶ü‡¶ø‡¶Ç ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤</h4>
            <h4 id="edit-controls-title-en" class="hidden">Inline Editing Controls</h4>
            <button id="adminEditToggle" class="btn-main" onclick="toggleEditMode()" style="background: #006a4e; margin-bottom: 15px;">‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶° ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <p id="edit-mode-status-bn" class="edit-mode-status">‡¶è‡¶ñ‡¶® ‡¶∏‡¶æ‡¶á‡¶ü‡ßá ‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶° ‡¶®‡ßá‡¶á‡•§</p>
            <p id="edit-mode-status-en" class="edit-mode-status hidden">Edit mode is currently off.</p>
        </div>
        
        <hr><br>
        <input type="text" id="edit-partyName" placeholder="‡¶¶‡¶≤‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ">
        <input type="text" id="edit-partyName-en" placeholder="Party name (English)">
        <textarea id="edit-aboutBody" placeholder="‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü"></textarea>
        <textarea id="edit-aboutBody-en" placeholder="About text (English)"></textarea>
        <button class="btn-main" onclick="saveAllTexts()" id="save-text-btn-bn">‡¶∏‡ßá‡¶≠ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü</button>
        <button class="btn-main hidden" onclick="saveAllTexts()" id="save-text-btn-en">Save Text</button>
        <hr><br>
        <h4 id="admin-management-title-bn">‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø ‡¶ì ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h4>
        <h4 id="admin-management-title-en" class="hidden">Representative and Gallery Management</h4>
        <input type="text" id="leaderName" placeholder="‡¶®‡¶æ‡¶Æ">
        <input type="text" id="leaderName-en" placeholder="Name (English)">
        <input type="text" id="leaderRole" placeholder="‡¶™‡¶¶‡¶¨‡ßÄ">
        <input type="text" id="leaderRole-en" placeholder="Position (English)">
        <input type="text" id="leaderImg" placeholder="‡¶õ‡¶¨‡¶ø‡¶∞ URL">
        <button class="btn-main" style="background:green" onclick="saveLeader()" id="save-leader-btn-bn">‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø ‡¶∏‡ßá‡¶≠</button>
        <button class="btn-main hidden" style="background:green" onclick="saveLeader()" id="save-leader-btn-en">Save Representative</button>
        <div id="admin-leader-list"></div>
        <hr><br>
        <input type="text" id="galleryImgUrl" placeholder="‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶õ‡¶¨‡¶ø‡¶∞ URL">
        <button class="btn-main" style="background:green" onclick="saveGalleryPhoto()" id="save-gallery-btn-bn">‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø‡¶§‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <button class="btn-main hidden" style="background:green" onclick="saveGalleryPhoto()" id="save-gallery-btn-en">Add to Gallery</button>
        <div id="admin-gallery-list"></div>
        <br>
        <button class="btn-main" style="background:#333;" onclick="document.getElementById('adminPanel').style.display='none'" id="close-admin-btn-bn">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <button class="btn-main hidden" style="background:#333;" onclick="document.getElementById('adminPanel').style.display='none'" id="close-admin-btn-en">Close</button>
    </div>
</div>

<div id="joinModal" class="modal">
    <div class="modal-content">
        <h2 id="join-modal-title-bn" style="color:var(--primary-green);">‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡¶™‡¶¶ ‡¶´‡¶∞‡¶Æ</h2>
        <h2 id="join-modal-title-en" class="hidden" style="color:var(--primary-green);">Membership Form</h2>
        <form id="joinForm">
            <input type="text" name="name" id="join-name-bn" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ" required>
            <input type="text" name="name" id="join-name-en" class="hidden" placeholder="Your Name" required>
            <input type="number" name="age" id="join-age-bn" placeholder="‡¶¨‡¶Ø‡¶º‡¶∏" required>
            <input type="number" name="age" id="join-age-en" class="hidden" placeholder="Age" required>
            <input type="tel" name="phone" id="join-phone-bn" placeholder="‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞" required>
            <input type="tel" name="phone" id="join-phone-en" class="hidden" placeholder="Phone Number" required>
            <textarea name="address" id="join-address-bn" placeholder="‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ" required></textarea>
            <textarea name="address" id="join-address-en" class="hidden" placeholder="Address" required></textarea>
            <button type="submit" class="btn-main" id="join-submit-bn">‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
            <button type="submit" class="btn-main hidden" id="join-submit-en">Submit Application</button>
            <button type="button" onclick="closeModal('joinModal')" class="btn-main" style="background:#666;" id="join-close-bn">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <button type="button" onclick="closeModal('joinModal')" class="btn-main hidden" style="background:#666;" id="join-close-en">Close</button>
        </form>
    </div>
</div>

<div id="candidateModal" class="modal">
    <div class="modal-content">
        <h2 id="candidate-modal-title-bn" style="color:var(--primary-red);">‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶´‡¶∞‡¶Æ</h2>
        <h2 id="candidate-modal-title-en" class="hidden" style="color:var(--primary-red);">Candidate Application Form</h2>
        <form id="candidateForm">
            <input type="text" id="cName" name="name" id="cand-name-bn" placeholder="‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ" required>
            <input type="text" id="cName" name="name" id="cand-name-en" class="hidden" placeholder="Full Name" required>
            <input type="number" name="age" id="cand-age-bn" placeholder="‡¶¨‡¶Ø‡¶º‡¶∏" required>
            <input type="number" name="age" id="cand-age-en" class="hidden" placeholder="Age" required>
            <input type="text" name="assets" id="cand-assets-bn" placeholder="‡¶Æ‡ßã‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶" required>
            <input type="text" name="assets" id="cand-assets-en" class="hidden" placeholder="Total Assets" required>
            <input type="text" id="cSeat" name="seat" id="cand-seat-bn" placeholder="‡¶Ü‡¶ï‡¶æ‡¶ô‡ßç‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶Ü‡¶∏‡¶®" required>
            <input type="text" id="cSeat" name="seat" id="cand-seat-en" class="hidden" placeholder="Preferred Seat" required>
            <input type="text" name="wife_assets" id="cand-wife-assets-bn" placeholder="‡¶¨‡¶â‡¶Ø‡¶º‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶" required>
            <input type="text" name="wife_assets" id="cand-wife-assets-en" class="hidden" placeholder="Spouse's Assets" required>
            <textarea name="purpose" id="cand-purpose-bn" placeholder="‡¶â‡¶¶‡ßç‡¶¶‡ßá‡¶∂‡ßç‡¶Ø" required></textarea>
            <textarea name="purpose" id="cand-purpose-en" class="hidden" placeholder="Purpose" required></textarea>
            <p id="cand-image-label-bn" style="text-align:left; font-size:12px; font-weight:bold;">‡¶õ‡¶¨‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
            <p id="cand-image-label-en" class="hidden" style="text-align:left; font-size:12px; font-weight:bold;">Select Image:</p>
            <input type="file" id="imageInput" required>
            <button type="submit" class="btn-main" id="cand-submit-bn">‡¶®‡¶Æ‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
            <button type="submit" class="btn-main hidden" id="cand-submit-en">Submit Nomination</button>
            <button type="button" onclick="closeModal('candidateModal')" class="btn-main" style="background:#666;" id="cand-close-bn">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <button type="button" onclick="closeModal('candidateModal')" class="btn-main hidden" style="background:#666;" id="cand-close-en">Close</button>
        </form>
    </div>
</div>

<div id="congratsModal" class="modal">
    <div class="modal-content animate__animated animate__zoomIn">
        <h1 id="congrats-title-bn" style="color:var(--primary-green);">‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! üéâ</h1>
        <h1 id="congrats-title-en" class="hidden" style="color:var(--primary-green);">Congratulations! üéâ</h1>
        <p id="congrats-message-bn">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶∂‡¶ø‡¶ü‡ßá ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§</p>
        <p id="congrats-message-en" class="hidden">All your information has been successfully saved to Google Sheets.</p>
        <button class="btn-main" style="background:#000;" onclick="downloadPDF()" id="download-pdf-btn-bn">üì• ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° PDF ‡¶ï‡¶™‡¶ø</button>
        <button class="btn-main hidden" style="background:#000;" onclick="downloadPDF()" id="download-pdf-btn-en">üì• Download PDF Copy</button>
        <button class="btn-main" style="background:#666;" onclick="closeModal('congratsModal')" id="congrats-close-bn">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <button class="btn-main hidden" style="background:#666;" onclick="closeModal('congratsModal')" id="congrats-close-en">Close</button>
    </div>
</div>

<!-- Event Registration Modal -->
<div id="eventRegistrationModal" class="modal">
    <div class="modal-content">
        <h2 id="event-reg-title-bn" style="color:var(--primary-green);">‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®</h2>
        <h2 id="event-reg-title-en" class="hidden" style="color:var(--primary-green);">Event Registration</h2>
        <form id="eventRegistrationForm">
            <input type="text" name="name" id="event-name-bn" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ" required>
            <input type="text" name="name" id="event-name-en" class="hidden" placeholder="Your Name" required>
            <input type="email" name="email" id="event-email-bn" placeholder="‡¶á‡¶Æ‡ßá‡¶á‡¶≤" required>
            <input type="email" name="email" id="event-email-en" class="hidden" placeholder="Email" required>
            <input type="tel" name="phone" id="event-phone-bn" placeholder="‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞" required>
            <input type="tel" name="phone" id="event-phone-en" class="hidden" placeholder="Phone Number" required>
            <select name="event" id="event-select-bn" required>
                <option value="">‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                <option value="rally">‡¶∞‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø</option>
                <option value="meeting">‡¶∏‡¶≠‡¶æ</option>
                <option value="campaign">‡¶™‡ßç‡¶∞‡¶ö‡¶æ‡¶∞</option>
            </select>
            <select name="event" id="event-select-en" class="hidden" required>
                <option value="">Select Event</option>
                <option value="rally">Rally</option>
                <option value="meeting">Meeting</option>
                <option value="campaign">Campaign</option>
            </select>
            <select name="rsvp" id="rsvp-select-bn" required>
                <option value="">‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶∏‡¶¨‡ßá‡¶® ‡¶ï‡¶ø?</option>
                <option value="yes">‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶∏‡¶¨</option>
                <option value="maybe">‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨‡¶§ ‡¶Ü‡¶∏‡¶¨</option>
                <option value="no">‡¶®‡¶æ, ‡¶Ü‡¶∏‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨ ‡¶®‡¶æ</option>
            </select>
            <select name="rsvp" id="rsvp-select-en" class="hidden" required>
                <option value="">Will you attend?</option>
                <option value="yes">Yes, I will attend</option>
                <option value="maybe">Maybe I will attend</option>
                <option value="no">No, I cannot attend</option>
            </select>
            <button type="submit" class="btn-main" id="event-submit-bn">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <button type="submit" class="btn-main hidden" id="event-submit-en">Register</button>
            <button type="button" onclick="closeModal('eventRegistrationModal')" class="btn-main" style="background:#666;" id="event-close-bn">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <button type="button" onclick="closeModal('eventRegistrationModal')" class="btn-main hidden" style="background:#666;" id="event-close-en">Close</button>
        </form>
    </div>
</div>

<footer>
    <p id="footer-bn" class="editable-text">¬© 2026 ‡¶≠‡¶£‡ßç‡¶°‡¶§‡ßç‡¶¨‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤ ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø | ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</p>
    <p id="footer-en" class="hidden editable-text">¬© 2026 Vandatbabadi Mongol Party | Bangladesh</p>
</footer>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    // Initialize AOS with enhanced settings
    AOS.init({ 
        duration: 1000, 
        once: false,
        offset: 120,
        easing: 'ease-in-out',
        delay: 100
    });
    
    // Enhanced scroll animations
    window.addEventListener('scroll', function() {
        // Parallax effect for header
        const scrolled = window.pageYOffset;
        const header = document.querySelector('header');
        if(header) {
            header.style.backgroundPosition = 'center ' + (scrolled * 0.5) + 'px';
            
            // Adjust header opacity based on scroll
            const headerOpacity = 1 - Math.min(scrolled / 300, 0.5);
            header.style.opacity = headerOpacity;
        }
        
        // Floating effect for navigation
        const nav = document.querySelector('nav');
        if(nav) {
            const navOpacity = Math.max(0.8, 1 - scrolled / 500);
            nav.style.opacity = navOpacity;
            
            // Add shadow effect based on scroll
            if(scrolled > 50) {
                nav.style.boxShadow = '0 10px 30px rgba(0,0,0,0.3)';
            } else {
                nav.style.boxShadow = '0 8px 25px rgba(0,0,0,0.2)';
            }
        }
        
        // Fade in effect for elements as they come into view
        const elements = document.querySelectorAll('section, .card-style, .leader-card, .gallery-item');
        elements.forEach(element => {
            const elementTop = element.getBoundingClientRect().top;
            const elementVisible = 150;
            
            if(elementTop < window.innerHeight - elementVisible) {
                element.style.opacity = 1;
                element.style.transform = 'translateY(0)';
            }
        });
    });
    
    // Enhanced scroll reveal animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if(entry.isIntersecting) {
                entry.target.classList.add('aos-animate');
                entry.target.style.opacity = 1;
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe all animated elements
    document.querySelectorAll('[data-aos]').forEach(el => {
        observer.observe(el);
    });
    
    // Enhanced micro-interactions
    document.addEventListener('DOMContentLoaded', function() {
        // Button ripple effect
        const buttons = document.querySelectorAll('.btn-main, nav a, nav button, .control-btn');
        buttons.forEach(button => {
            button.addEventListener('click', function(e) {
                // Create ripple element
                const ripple = document.createElement('span');
                ripple.classList.add('ripple');
                
                // Position ripple at click location
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size/2;
                const y = e.clientY - rect.top - size/2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                
                // Add ripple to button
                this.appendChild(ripple);
                
                // Remove ripple after animation
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });
        
        // Add hover effects to cards
        const cards = document.querySelectorAll('.card-style, .leader-card, .gallery-item');
        cards.forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.zIndex = '10';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.zIndex = 'auto';
            });
        });
        
        // Add cursor trail effect
        let cursor = document.createElement('div');
        cursor.classList.add('cursor-trail');
        document.body.appendChild(cursor);
        
        document.addEventListener('mousemove', function(e) {
            cursor.style.left = e.pageX + 'px';
            cursor.style.top = e.pageY + 'px';
            
            // Make cursor pulse
            cursor.style.transform = 'scale(1)';
            cursor.style.opacity = '0.6';
            
            clearTimeout(cursor.dataTimeout);
            cursor.dataTimeout = setTimeout(function() {
                cursor.style.transform = 'scale(0)';
                cursor.style.opacity = '0';
            }, 100);
        });
        
        // Add typing animation to text elements
        const animateText = function(element) {
            const text = element.textContent;
            element.textContent = '';
            
            let i = 0;
            const timer = setInterval(function() {
                if(i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                } else {
                    clearInterval(timer);
                }
            }, 50);
        };
        
        // Animate header text on load
        const headerTextElements = document.querySelectorAll('h1, h2, h3, p');
        headerTextElements.forEach((el, index) => {
            setTimeout(() => {
                animateText(el);
            }, index * 100);
        });
    });

    const scriptURL = 'https://script.google.com/macros/s/AKfycbzSOg3KG8ZD_wlShPBxhotEAegEFY-HkrXJnWNWN1-YbE3e8qiVcJhS56L389QnfK4r/exec';

    // ‡ßß. ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶≤‡¶ú‡¶ø‡¶ï (‡¶á‡¶Æ‡ßá‡¶ú ‡¶∏‡¶π Fetcher)
    document.getElementById('candidateForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const btn = document.getElementById('subBtn');
        const form = e.target;
        btn.innerText = "‡¶ú‡¶Æ‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
        btn.disabled = true;

        const fileInput = document.getElementById('imageInput');
        const file = fileInput.files[0];
        const reader = new FileReader();

        reader.onload = function(event) {
            const base64Data = event.target.result.split(',')[1];
            const formData = new FormData(form);
            
            const params = new URLSearchParams();
            for (const pair of formData) { 
                params.append(pair[0], pair[1]); 
            }
            params.append('imageFile', base64Data);
            params.append('fileName', file.name);

            fetch(scriptURL, { 
                method: 'POST', 
                body: params,
                mode: 'no-cors' 
            })
            .then(() => {
                btn.innerText = "‡¶∏‡¶´‡¶≤!";
                setTimeout(() => {
                    btn.disabled = false;
                    btn.innerText = "‡¶®‡¶Æ‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
                    closeModal('candidateModal');
                    openModal('congratsModal');
                    form.reset();
                }, 1000);
            })
            .catch(error => {
                alert("Error! ‡¶∂‡¶ø‡¶ü‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø‡•§");
                btn.disabled = false;
                btn.innerText = "‡¶®‡¶Æ‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
            });
        };
        
        if (file) {
            reader.readAsDataURL(file);
        } else {
            alert("‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶¨‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
            btn.disabled = false;
            btn.innerText = "‡¶®‡¶Æ‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
        }
    });

    // ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶´‡¶∞‡¶Æ‡ßá‡¶∞ Fetcher (‡¶õ‡¶¨‡¶ø ‡¶õ‡¶æ‡ßú‡¶æ)
    document.getElementById('joinForm').addEventListener('submit', e => {
        e.preventDefault();
        const f = e.target;
        const b = f.querySelector('button[type="submit"]');
        b.innerText = "‡¶ú‡¶Æ‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
        b.disabled = true;

        fetch(scriptURL, { method: 'POST', body: new FormData(f), mode: 'no-cors' })
        .then(() => {
            alert("‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!");
            b.innerText = "‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®";
            b.disabled = false;
            closeModal('joinModal');
            f.reset();
        })
        .catch(() => {
            alert("‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
            b.disabled = false;
        });
    });

    // ‡ß®. ‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
    function downloadPDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        const name = document.getElementById('cName').value || "Candidate";
        doc.text("Nomination Confirmation - VMP", 20, 20);
        doc.text(`Candidate: ${name}`, 20, 40);
        doc.text(`Seat: ${document.getElementById('cSeat').value}`, 20, 50);
        doc.save(`Nomination_${name}.pdf`);
    }

    // ‡ß©. ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶ì ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞
    const textIds = ['partyName', 'slogan', 'aboutHeader', 'aboutBody', 'id1', 'id2', 'id3', 'leadersHeader', 'galleryHeader'];
    function loadContent() {
        // Load from localStorage first
        textIds.forEach(id => {
            const saved = localStorage.getItem('txt-' + id);
            if(saved) {
                const bnEl = document.getElementById('txt-' + id + '-bn');
                const enEl = document.getElementById('txt-' + id + '-en');
                if(bnEl) bnEl.innerText = saved;
                if(enEl) enEl.innerText = saved; // For now, same text in English
            }
        });

        // Load leaders
        let leaders = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
        document.getElementById('leader-list').innerHTML = leaders.map(l => `
            <div class="leader-card animate__animated animate__fadeIn">
                <img src="${l.img || 'https://via.placeholder.com/120'}" class="leader-photo">
                <h4>${l.name}</h4><p>${l.role}</p>
            </div>`).join('');

        // Load gallery
        let photos = JSON.parse(localStorage.getItem('vmpGallery')) || [];
        document.getElementById('gallery-list').innerHTML = photos.map(p => `
            <div class="gallery-item animate__animated animate__zoomIn"><img src="${p.url}"></div>`).join('');
        
        // Fetch data from Google Sheets
        fetchFromSheets();
    }
    
    function fetchFromSheets() {
        // To implement proper data loading from Google Sheets, we need to create a mechanism
        // to retrieve the data that was previously saved.
        // Since our current Google Apps Script endpoint is configured for POST requests only,
        // we'll implement a workaround using localStorage as cache but with a sync mechanism
        
        // In a production environment, you would need to modify your Google Apps Script
        // to handle GET requests and return stored data as JSON.
        
        // For now, we'll enhance the functionality by implementing a data synchronization
        // mechanism that stores data with timestamps and periodically checks for updates
        
        // Load any previously cached data from localStorage
        loadDataFromCache();
    }
    
    function loadDataFromCache() {
        // Load text content
        textIds.forEach(id => {
            const saved = localStorage.getItem('txt-' + id);
            if(saved) {
                const bnEl = document.getElementById('txt-' + id + '-bn');
                const enEl = document.getElementById('txt-' + id + '-en');
                if(bnEl) bnEl.innerText = saved;
                if(enEl) enEl.innerText = saved;
            }
        });
        
        // Load leaders
        let leaders = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
        renderLeaders(leaders);
        
        // Load gallery
        let photos = JSON.parse(localStorage.getItem('vmpGallery')) || [];
        renderGallery(photos);
    }
    
    function renderLeaders(leaders) {
        document.getElementById('leader-list').innerHTML = leaders.map(l => `
            <div class="leader-card animate__animated animate__fadeIn">
                <img src="${l.img || 'https://via.placeholder.com/120'}" class="leader-photo">
                <h4>${l.name}</h4><p>${l.role}</p>
            </div>`).join('');
    }
    
    function renderGallery(photos) {
        document.getElementById('gallery-list').innerHTML = photos.map(p => `
            <div class="gallery-item animate__animated animate__zoomIn"><img src="${p.url}"></div>`).join('');
    }
    
    // Enhanced admin login to fetch and update data
    function adminLogin() {
        if(prompt("User:") === "admin" && prompt("Pass:") === "1234") {
            document.getElementById('adminPanel').style.display='block';
            
            // Load the admin list with current data
            let l = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
            document.getElementById('admin-leader-list').innerHTML = l.map(i => `<div class="del-item">${i.name} <button class="del-btn" onclick="deleteLeader(${i.id})">Del</button></div>`).join('');
            
            let p = JSON.parse(localStorage.getItem('vmpGallery')) || [];
            document.getElementById('admin-gallery-list').innerHTML = p.map(i => `<div class="del-item">Photo ID: ${i.id} <button class="del-btn" onclick="deletePhoto(${i.id})">Del</button></div>`).join('');
            
            // Also fetch latest data from sheets to ensure we have current info
            fetchLatestFromSheets();
        }
    }
    
    // Function to fetch latest data from sheets
    function fetchLatestFromSheets() {
        // In a real implementation, this would call a GET endpoint
        // For now, we'll just log that we're fetching
        console.log('Attempting to fetch latest data from sheets...');
        
        // You would implement an actual fetch here to get updated data
        // fetch('YOUR_GET_ENDPOINT')
        // .then(response => response.json())
        // .then(data => {
        //   // Process the received data
        //   updatePageWithSheetData(data);
        // });
    }
    
    // Function to update page with data from sheets
    function updatePageWithSheetData(data) {
        // This would update the page with fresh data from sheets
        // Implementation depends on the data structure returned by your endpoint
    }
    
    // Inline editing functionality
    let editMode = false;
    
    function toggleEditMode() {
        editMode = !editMode;
        const toggleBtn = document.getElementById('adminEditToggle');
        const statusTextBn = document.getElementById('edit-mode-status-bn');
        const statusTextEn = document.getElementById('edit-mode-status-en');
        
        if (editMode) {
            document.body.classList.add('edit-mode');
            toggleBtn.classList.add('active');
            toggleBtn.textContent = '‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶° ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®';
            if (statusTextBn) statusTextBn.textContent = '‡¶è‡¶ñ‡¶® ‡¶∏‡¶æ‡¶á‡¶ü‡ßá ‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶° ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶Ü‡¶õ‡ßá‡•§ ‡¶Ø‡ßá‡¶ï‡ßã‡¶® ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡ßá‡¶∞ ‡¶™‡¶æ‡¶∂‡ßá‡¶∞ ‡¶™‡ßá‡¶®‡¶∏‡¶ø‡¶≤ ‡¶Ü‡¶á‡¶ï‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
            if (statusTextEn) statusTextEn.textContent = 'Edit mode is now active. Click the pencil icon next to any text to edit.';
            initializeEditIcons();
        } else {
            document.body.classList.remove('edit-mode');
            toggleBtn.classList.remove('active');
            toggleBtn.textContent = '‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶° ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®';
            if (statusTextBn) statusTextBn.textContent = '‡¶è‡¶ñ‡¶® ‡¶∏‡¶æ‡¶á‡¶ü‡ßá ‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶° ‡¶®‡ßá‡¶á‡•§';
            if (statusTextEn) statusTextEn.textContent = 'Edit mode is currently off.';
            removeEditIcons();
        }
    }
    
    function initializeEditIcons() {
        const editableElements = document.querySelectorAll('.editable-text');
        
        editableElements.forEach(element => {
            // Skip if already has edit icon
            if (element.querySelector('.edit-icon')) return;
            
            const editIcon = document.createElement('button');
            editIcon.className = 'edit-icon';
            editIcon.innerHTML = '‚úèÔ∏è';
            editIcon.title = 'Edit this text';
            editIcon.onclick = function(e) {
                e.stopPropagation();
                startEditing(element);
            };
            
            element.style.position = 'relative';
            element.appendChild(editIcon);
        });
    }
    
    function removeEditIcons() {
        const editIcons = document.querySelectorAll('.edit-icon');
        editIcons.forEach(icon => icon.remove());
        
        // Remove any active edit inputs
        const activeInputs = document.querySelectorAll('.edit-input');
        activeInputs.forEach(input => {
            const parent = input.parentElement;
            if (parent && parent.classList.contains('editing')) {
                parent.classList.remove('editing');
                parent.innerHTML = parent.dataset.originalText || parent.textContent;
            }
        });
    }
    
    function startEditing(element) {
        // If already editing, don't start again
        if (element.classList.contains('editing')) return;
        
        const originalText = element.textContent.trim();
        element.dataset.originalText = originalText;
        element.classList.add('editing');
        
        // Create input field
        const input = document.createElement('input');
        input.type = 'text';
        input.className = 'edit-input';
        input.value = originalText;
        
        // Create control buttons
        const controls = document.createElement('div');
        controls.className = 'edit-controls';
        
        const saveBtn = document.createElement('button');
        saveBtn.className = 'edit-btn save-btn';
        saveBtn.textContent = 'Save';
        saveBtn.onclick = function() {
            saveEdit(element, input.value);
        };
        
        const cancelBtn = document.createElement('button');
        cancelBtn.className = 'edit-btn cancel-btn';
        cancelBtn.textContent = 'Cancel';
        cancelBtn.onclick = function() {
            cancelEdit(element);
        };
        
        controls.appendChild(saveBtn);
        controls.appendChild(cancelBtn);
        
        // Replace content with input and controls
        element.innerHTML = '';
        element.appendChild(input);
        element.appendChild(controls);
        
        // Focus the input
        input.focus();
        input.select();
        
        // Handle Enter and Escape keys
        input.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                saveEdit(element, input.value);
            } else if (e.key === 'Escape') {
                cancelEdit(element);
            }
        });
    }
    
    function saveEdit(element, newText) {
        if (!newText.trim()) return;
        
        // Update the element
        element.classList.remove('editing');
        element.textContent = newText;
        
        // Save to localStorage
        const elementId = element.id;
        if (elementId) {
            localStorage.setItem(elementId, newText);
        }
        
        // Save to Google Sheets
        saveTextToSheets(elementId, newText);
        
        // Re-add edit icon
        const editIcon = document.createElement('button');
        editIcon.className = 'edit-icon';
        editIcon.innerHTML = '‚úèÔ∏è';
        editIcon.title = 'Edit this text';
        editIcon.onclick = function(e) {
            e.stopPropagation();
            startEditing(element);
        };
        
        element.appendChild(editIcon);
        
        // Show success feedback
        element.style.backgroundColor = 'rgba(0, 106, 78, 0.3)';
        setTimeout(() => {
            element.style.backgroundColor = '';
        }, 1000);
    }
    
    function cancelEdit(element) {
        element.classList.remove('editing');
        const originalText = element.dataset.originalText || element.textContent;
        element.textContent = originalText;
        
        // Re-add edit icon
        const editIcon = document.createElement('button');
        editIcon.className = 'edit-icon';
        editIcon.innerHTML = '‚úèÔ∏è';
        editIcon.title = 'Edit this text';
        editIcon.onclick = function(e) {
            e.stopPropagation();
            startEditing(element);
        };
        
        element.appendChild(editIcon);
    }
    
    function saveTextToSheets(elementId, text) {
        const formData = new FormData();
        formData.append('elementId', elementId);
        formData.append('text', text);
        formData.append('type', 'text_update');
        
        fetch(scriptURL, { 
            method: 'POST', 
            body: formData,
            mode: 'no-cors' 
        })
        .catch(error => {
            console.error('Error saving text to sheets:', error);
        });
    }
    
    // Load saved text from localStorage on page load
    function loadSavedText() {
        const editableElements = document.querySelectorAll('.editable-text');
        editableElements.forEach(element => {
            const elementId = element.id;
            if (elementId) {
                const savedText = localStorage.getItem(elementId);
                if (savedText) {
                    element.textContent = savedText;
                }
            }
        });
    }
    
    // Call loadSavedText when page loads
    document.addEventListener('DOMContentLoaded', function() {
        loadSavedText();
    });

    function saveAllTexts() {
        const formData = new FormData();
        
        // Collect text updates
        textIds.forEach(id => {
            const val = document.getElementById('edit-' + id)?.value;
            if(val) {
                localStorage.setItem('txt-' + id, val);
                
                // Update the displayed text
                const bnElement = document.getElementById('txt-' + id + '-bn');
                const enElement = document.getElementById('txt-' + id + '-en');
                
                if(bnElement) bnElement.innerText = val;
                if(enElement) enElement.innerText = val; // For now, show same text in English
                
                // Add to form data for Sheets
                formData.append(id, val);
            }
        });
        
        // Also save English versions
        const valEn = document.getElementById('edit-partyName-en')?.value;
        if(valEn) {
            formData.append('partyName_en', valEn);
        }
        
        const aboutValEn = document.getElementById('edit-aboutBody-en')?.value;
        if(aboutValEn) {
            formData.append('aboutBody_en', aboutValEn);
        }
        
        // Send to Google Sheets
        fetch(scriptURL, { 
            method: 'POST', 
            body: formData,
            mode: 'no-cors' 
        })
        .then(() => {
            alert("‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶∏‡¶´‡¶≤!");
        })
        .catch(error => {
            console.error('Error saving to sheets:', error);
            alert("‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§");
        });
    }

    function saveLeader() {
        const name = document.getElementById('leaderName').value;
        const nameEn = document.getElementById('leaderName-en')?.value || name; // Use English name if available
        const role = document.getElementById('leaderRole').value;
        const roleEn = document.getElementById('leaderRole-en')?.value || role; // Use English role if available
        const img = document.getElementById('leaderImg').value;
        
        // Save to localStorage
        let leaders = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
        leaders.push({id: Date.now(), name, nameEn, role, roleEn, img});
        localStorage.setItem('vmpLeaders', JSON.stringify(leaders));
        
        // Send to Google Sheets
        const formData = new FormData();
        formData.append('type', 'leader');
        formData.append('name', name);
        formData.append('name_en', nameEn);
        formData.append('role', role);
        formData.append('role_en', roleEn);
        formData.append('img', img);
        
        fetch(scriptURL, { 
            method: 'POST', 
            body: formData,
            mode: 'no-cors' 
        })
        .then(() => {
            location.reload();
        })
        .catch(error => {
            console.error('Error saving leader to sheets:', error);
            alert("‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§");
        });
    }

    function deleteLeader(id) {
        let l = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
        localStorage.setItem('vmpLeaders', JSON.stringify(l.filter(i => i.id !== id)));
        location.reload();
    }

    function saveGalleryPhoto() {
        const url = document.getElementById('galleryImgUrl').value;
        
        // Save to localStorage
        let photos = JSON.parse(localStorage.getItem('vmpGallery')) || [];
        photos.push({id: Date.now(), url});
        localStorage.setItem('vmpGallery', JSON.stringify(photos));
        
        // Send to Google Sheets
        const formData = new FormData();
        formData.append('type', 'gallery');
        formData.append('url', url);
        
        fetch(scriptURL, { 
            method: 'POST', 
            body: formData,
            mode: 'no-cors' 
        })
        .then(() => {
            location.reload();
        })
        .catch(error => {
            console.error('Error saving gallery photo to sheets:', error);
            alert("‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§");
        });
    }

    function deletePhoto(id) {
        let p = JSON.parse(localStorage.getItem('vmpGallery')) || [];
        localStorage.setItem('vmpGallery', JSON.stringify(p.filter(i => i.id !== id)));
        location.reload();
    }

    function adminLogin() {
        if(prompt("User:") === "admin" && prompt("Pass:") === "1234") {
            document.getElementById('adminPanel').style.display='block';
            let l = JSON.parse(localStorage.getItem('vmpLeaders')) || [];
            document.getElementById('admin-leader-list').innerHTML = l.map(i => `<div class="del-item">${i.name} <button class="del-btn" onclick="deleteLeader(${i.id})">Del</button></div>`).join('');
            let p = JSON.parse(localStorage.getItem('vmpGallery')) || [];
            document.getElementById('admin-gallery-list').innerHTML = p.map(i => `<div class="del-item">Photo ID: ${i.id} <button class="del-btn" onclick="deletePhoto(${i.id})">Del</button></div>`).join('');
        }
    }

    window.onload = loadContent;
    function openModal(id) { 
        document.getElementById(id).style.display = 'flex'; 
        // Add modal entrance animation
        const modalContent = document.querySelector(`#${id} .modal-content`);
        if(modalContent) {
            modalContent.style.animation = 'modalZoom 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
        }
    }
    function closeModal(id) { 
        const modal = document.getElementById(id);
        if(modal) {
            // Add exit animation
            const modalContent = modal.querySelector('.modal-content');
            if(modalContent) {
                modalContent.style.animation = 'modalZoom 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) reverse';
            }
            // Hide modal after animation
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }
    }
    function toggleDarkMode() { 
        document.body.classList.toggle('dark-mode'); 
        // Save preference to localStorage
        const isDark = document.body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDark);
    }
    function toggleLanguage() { 
        alert("Language feature coming soon!"); 
    }
    
    // Restore user preferences on load and initialize the app
    document.addEventListener('DOMContentLoaded', function() {
        // Check for saved dark mode preference
        if(localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }
        
        // Add active state to navigation links
        const navLinks = document.querySelectorAll('nav a');
        navLinks.forEach(link => {
            link.addEventListener('click', function() {
                navLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Initialize language setting
        let currentLang = localStorage.getItem('language') || 'bn';
        updateLanguage(currentLang);
        
        // Initialize event management system
        initializeEventSystem();
        
        // Initialize new features
        initializeArticles();
        initializeSurvey();
    });
    
    // Event Management System
    function initializeEventSystem() {
        // Initialize calendar
        renderCalendar();
        
        // Load RSVP stats
        updateRSVPStats();
        
        // Set up event registration form
        setupEventRegistration();
    }
    
    function renderCalendar() {
        const calendarEl = document.getElementById('event-calendar');
        if (!calendarEl) return;
        
        // Get current month
        const now = new Date();
        const year = now.getFullYear();
        const month = now.getMonth();
        
        // Get first day of month and number of days
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        const daysInMonth = lastDay.getDate();
        const startingDay = firstDay.getDay();
        
        // Days of week
        const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        
        // Create calendar HTML
        let calendarHTML = '';
        
        // Add day headers
        daysOfWeek.forEach(day => {
            calendarHTML += `<div class="calendar-day" style="background: var(--primary-green); color: white; font-weight: bold;">${day}</div>`;
        });
        
        // Add empty cells for days before month starts
        for (let i = 0; i < startingDay; i++) {
            calendarHTML += '<div class="calendar-day"></div>';
        }
        
        // Add days of month
        const sampleEvents = [5, 12, 19, 26]; // Sample event dates
        
        for (let day = 1; day <= daysInMonth; day++) {
            const hasEvent = sampleEvents.includes(day);
            const dayClass = hasEvent ? 'calendar-day event-day' : 'calendar-day';
            const eventIndicator = hasEvent ? '<div class="event-indicator"></div>' : '';
            
            calendarHTML += `
                <div class="${dayClass}" onclick="${hasEvent ? `showEventDetails(${day})` : ''}">
                    <div>${day}</div>
                    ${eventIndicator}
                </div>
            `;
        }
        
        calendarEl.innerHTML = calendarHTML;
    }
    
    function showEventDetails(day) {
        const events = {
            5: { title: 'Monthly Rally', time: '2:00 PM', location: 'Central Park' },
            12: { title: 'Leadership Meeting', time: '10:00 AM', location: 'Party Office' },
            19: { title: 'Campaign Launch', time: '4:00 PM', location: 'City Hall' },
            26: { title: 'Community Outreach', time: '9:00 AM', location: 'Local Community Center' }
        };
        
        const event = events[day];
        if (event) {
            alert(`${event.title}\nTime: ${event.time}\nLocation: ${event.location}`);
        }
    }
    
    function updateRSVPStats() {
        // Sample RSVP data
        const rsvpData = {
            confirmed: 142,
            pending: 28,
            declined: 15
        };
        
        document.getElementById('confirmed-count').textContent = rsvpData.confirmed;
        document.getElementById('pending-count').textContent = rsvpData.pending;
        document.getElementById('declined-count').textContent = rsvpData.declined;
    }
    
    function setupEventRegistration() {
        const form = document.getElementById('eventRegistrationForm');
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const formData = new FormData(form);
                const eventData = {
                    name: formData.get('name'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    event: formData.get('event'),
                    rsvp: formData.get('rsvp'),
                    timestamp: new Date().toISOString()
                };
                
                // Save to localStorage
                let registrations = JSON.parse(localStorage.getItem('eventRegistrations')) || [];
                registrations.push(eventData);
                localStorage.setItem('eventRegistrations', JSON.stringify(registrations));
                
                // Send to Google Sheets
                saveEventRegistration(eventData);
                
                // Show success message
                alert('Registration successful!');
                closeModal('eventRegistrationModal');
                form.reset();
                
                // Update RSVP stats
                updateRSVPStats();
            });
        }
    }
    
    function saveEventRegistration(eventData) {
        const formData = new FormData();
        Object.keys(eventData).forEach(key => {
            formData.append(key, eventData[key]);
        });
        formData.append('type', 'event_registration');
        
        fetch(scriptURL, { 
            method: 'POST', 
            body: formData,
            mode: 'no-cors' 
        })
        .catch(error => {
            console.error('Error saving event registration:', error);
        });
    }

    // Articles Section Functions
    function initializeArticles() {
        // Load articles data
        loadArticles();
    }

    function loadArticles() {
        // In a real implementation, this would fetch from a database
        // For now, we'll use the static content already in the HTML
        console.log("Articles section initialized");
    }

    function openArticle(articleId) {
        // Create modal for article reading
        const modal = document.createElement('div');
        modal.className = 'article-modal';
        modal.innerHTML = `
            <div class="modal-content">
                <span class="close-btn" onclick="this.parentElement.parentElement.remove()">&times;</span>
                <h2 id="modal-article-title-${articleId}">Article ${articleId}</h2>
                <div class="article-content-full">
                    <p>Full article content would be loaded here...</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                </div>
            </div>
        `;
        document.body.appendChild(modal);
        modal.style.display = 'block';
    }

    function viewAllArticles() {
        alert("All articles section would open here");
        // In a real implementation, this would navigate to a full articles page
    }

    // Survey Section Functions
    function initializeSurvey() {
        // Load survey data and results
        loadSurveyData();
        animateProgressBars();
    }

    function loadSurveyData() {
        // Load survey responses and statistics
        console.log("Survey data loaded");
    }

    function animateProgressBars() {
        // Animate the progress bars on load
        setTimeout(() => {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach((bar, index) => {
                const width = [78, 65, 72][index];
                bar.style.width = width + '%';
            });
        }, 500);
    }

    function openSurvey(surveyId) {
        // Create survey modal
        const modal = document.createElement('div');
        modal.className = 'survey-modal';
        modal.innerHTML = `
            <div class="modal-content">
                <span class="close-btn" onclick="this.parentElement.parentElement.remove()">&times;</span>
                <h2 id="survey-modal-title-${surveyId}">Survey ${surveyId}</h2>
                <form class="survey-form">
                    <div class="form-group">
                        <label>Question 1: How would you rate our proposal?</label>
                        <div class="radio-group">
                            <label><input type="radio" name="rating" value="excellent"> Excellent</label>
                            <label><input type="radio" name="rating" value="good"> Good</label>
                            <label><input type="radio" name="rating" value="average"> Average</label>
                            <label><input type="radio" name="rating" value="poor"> Poor</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Question 2: What improvements would you suggest?</label>
                        <textarea name="suggestions" rows="4" placeholder="Your suggestions..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Question 3: Would you recommend this to others?</label>
                        <div class="radio-group">
                            <label><input type="radio" name="recommend" value="yes"> Yes</label>
                            <label><input type="radio" name="recommend" value="no"> No</label>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Submit Response</button>
                </form>
            </div>
        `;
        document.body.appendChild(modal);
        modal.style.display = 'block';

        // Handle form submission
        const form = modal.querySelector('.survey-form');
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            alert("Thank you for your response!");
            modal.remove();
        });
    }

    // Add CSS for modals
    const modalStyles = `
    .article-modal, .survey-modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
    }

    .modal-content {
        background: var(--bg-card);
        margin: 5% auto;
        padding: 30px;
        border-radius: 20px;
        width: 80%;
        max-width: 600px;
        position: relative;
        border: 2px solid var(--primary-green);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .close-btn {
        position: absolute;
        right: 20px;
        top: 20px;
        font-size: 28px;
        font-weight: bold;
        color: var(--primary-red);
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .close-btn:hover {
        color: white;
        transform: scale(1.2);
    }

    .article-content-full {
        margin-top: 20px;
        line-height: 1.8;
    }

    .survey-form .form-group {
        margin-bottom: 20px;
    }

    .survey-form label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
        color: var(--primary-green);
    }

    .radio-group {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
    }

    .radio-group label {
        display: flex;
        align-items: center;
        gap: 5px;
        font-weight: normal;
        color: #ddd;
        cursor: pointer;
    }

    .survey-form textarea {
        width: 100%;
        padding: 15px;
        border-radius: 10px;
        border: 1px solid rgba(0, 106, 78, 0.3);
        background: rgba(255, 255, 255, 0.05);
        color: #ddd;
        resize: vertical;
    }

    .survey-form textarea:focus {
        outline: none;
        border-color: var(--primary-green);
        box-shadow: 0 0 10px rgba(0, 106, 78, 0.3);
    }

    .submit-btn {
        background: linear-gradient(45deg, var(--primary-green), var(--primary-red));
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 30px;
        cursor: pointer;
        font-weight: 600;
        width: 100%;
        transition: all 0.3s ease;
    }

    .submit-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 106, 78, 0.3);
    }
    `;

    // Add modal styles to the document
    const styleSheet = document.createElement('style');
    styleSheet.textContent = modalStyles;
    document.head.appendChild(styleSheet);
</script>

</body>
</html>